<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Account</title>
    <link rel="stylesheet" href="simple.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/search.html">Search</a></li>
                <li><a href="https://discord.gg/WgaqXEywvA">Discord</a></li>
                <li><a href="https://git.shrecked.dev/Shrecknt/snowstorm">
                        <div class="icon forgejo-icon"></div> Git
                    </a></li>
                <li><a class="current" href="./login.html">Login</a></li>
            </ul>
        </nav>
        <h1>Create Account with Discord</h1>
        <p>Create an account which will automatically be linked to your Discord account</p>
    </header>

    <div class="notice">
        <strong style="font-size: 32px;">Create Account</strong><br /><br />
        <form method="post" action="/auth/discord" enctype="application/x-www-form-urlencoded">
            <div>
                <label for="username">Username</label>
                <input type="text" id="username" name="username" placeholder="username">
            </div>
            <div>
                <label for="password">Password</label>
                <input type="password" id="password" name="password" placeholder="password">
            </div>
            <div>
                <label for="discordId">Discord ID</label>
                <input type="text" id="discordId" value="pls enable js :(" disabled>
            </div>
            <br />
            <input type="submit" value="Create Account">
            <a href="/login.html"><input type="button" value="Login &UpperRightArrow;"></a>
        </form>
    </div>

    <script>
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return decodeURIComponent(parts.pop().split(';').shift());
        }

        const discordId = getCookie("Discord-Id");

        const discordIdElem = document.getElementById("discordId");
        if (discordId !== undefined) {
            discordIdElem.value = discordId;
        } else {
            discordIdElem.value = "Missing Cookie";
        }
    </script>
</body>

</html>